(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7195],{50784:function(e,i,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/v/[video]",function(){return t(75302)}])},5269:function(e,i,t){"use strict";t.d(i,{F:function(){return b},e:function(){return _}});var n=t(98788),o=t(94776),r=t.n(o),a=t(82066),s={icon:"",title:"",progress:0,slug:"",bgColor:"",serial:""},c=t(84754),u=t(42838),d=t(70865),l=t(96670),p=t(187),m=t(62680),v=(p.Record({subjectSerial:p.String,topicSerial:p.String}),p.Record({serial:p.String,displayName:p.String,slug:p.String})),g=p.Record({userSerial:p.String,serial:p.String,displayName:p.String,icon:p.String,subjectColor:p.String,userProgress:p.Number,topic:v,type:p.String,slug:p.String});function f(e,i){return function(e,i){var t=g;return new Promise((function(n,o){return(0,m.Z)((0,l.Z)((0,d.Z)({},i),{url:"/api/v3/rubel-accomplishment/journey/next-journey",method:"get",withAuth:!0,params:e})).then((function(e){return(null===i||void 0===i?void 0:i.disableTypeValidator)?e:t.check(e)})).then((function(e){n(e)})).catch((function(e){if((0,u.Z)(e,p.ValidationError))return o({_tag:"DECODE_ERROR",message:e.message});if(e&&"errorCode"in e)switch(e.errorCode){case 22501:return o({_tag:"GENERAL_INTERNAL_ERROR",error:e});case 22502:return o({_tag:"GENERAL_INTERNAL_CONTEXT_ERROR",error:e});case 22503:return o({_tag:"GENERAL_DB_ERROR",error:e});case 22504:return o({_tag:"INTERNAL_API_CALL_ERROR",error:e});default:return o({_tag:"SERVER_ERROR",error:e})}return o({_tag:"UNKNOWN_ERROR",error:e})}))}))}(e,i)}function h(e,i){return(0,c.vd)({journeySerial:e},i)}function b(e,i,t){return(0,a.useQuery)("journeyHistory-".concat(e.subjectSerial,"-").concat(e.topicSerial),(0,n.Z)(r().mark((function i(){var n;return r().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,f(e,t);case 3:return n=i.sent,i.abrupt("return",{icon:n.icon,title:n.displayName,progress:n.userProgress,slug:e.topicSerial?n.slug:"".concat(n.topic.slug,"/").concat(n.slug),bgColor:n.subjectColor,serial:n.serial});case 7:return i.prev=7,i.t0=i.catch(0),console.error("[useJourneyHistory] ",JSON.stringify(i.t0)),i.abrupt("return",s);case 11:case"end":return i.stop()}}),i,null,[[0,7]])}))),i)}function _(e,i){return(0,a.useQuery)("journey-progress-".concat(e),(0,n.Z)(r().mark((function i(){var t;return r().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,h(e);case 3:return t=i.sent,i.abrupt("return",t);case 7:return i.prev=7,i.t0=i.catch(0),console.error("[fetchJourneyProgress] ",JSON.stringify(i.t0)),i.abrupt("return",{journeySerial:e,userProgress:0});case 11:case"end":return i.stop()}}),i,null,[[0,7]])}))),i)}},75302:function(e,i,t){"use strict";t.r(i),t.d(i,{__N_SSG:function(){return j}});var n=t(70865),o=t(96670),r=t(50930),a=t(52322),s=t(81382),c=t(64033),u=t(55351),d=t(70314),l=t(5632),p=t(2784),m=t(36338),v=t(93571),g=t(74325),f=t(93755),h=t(89165),b=t(83700),_=t(23329),x=t(59620),y=t(59856),S=t(63550),C=t(5269),T=t(66752),k=t(28160),P=t(76119),E=t(63265);var j=!0;i.default=function(e){var i=e.meta,t=e.breadcrumbs,j=e.missions,R=e.mission,w=(0,x.aC)(),A=w.isLoggedIn,N=w.profile,O=(0,l.useRouter)(),I=(0,m.e)().isDesktop,Z=(0,x.$G)(),V=i.gradeSerial,L=i.gradeName,B=i.curriculumSerial,D=i.courseSerial,M=i.topicSerial,U=i.subtopicSerial,G=i.missionSerial,H=[(0,x.uq)(t,"SUBJECT"),(0,x.uq)(t,"TOPIC")],q=H[0],F=H[1],X=(0,P.w7)(),W=function(){var e;return(0,P.TO)(null===(e=X.prevUrl)||void 0===e?void 0:e.pathname)},z=(0,p.useReducer)((function(e,i){switch(i.type){case"INIT":return(0,o.Z)((0,n.Z)({},e),{checkpoints:{video:i.payload.videoCheckpoints,user:i.payload.userCheckpoints,config:i.payload.videoCheckpointConfig},startTime:i.payload.startTime,isVideoAccomplished:(0,x.lz)(i.payload.userCheckpoints,i.payload.videoCheckpoints,i.payload.videoCheckpointConfig.minimumWatchPercent),trackerBaseParam:(0,o.Z)((0,n.Z)({},e.trackerBaseParam),{video_duration:i.payload.videoDuration,video_serial:i.payload.videoSerial,entry_point:W()}),gamificationCheckpoints:{video:i.payload.gamificationCheckpoints,user:i.payload.userGamificationCheckpoints,config:i.payload.gamificationConfig,isSubmitted:!1}});case"UPDATE_USER_CHECKPOINTS":return(0,o.Z)((0,n.Z)({},e),{checkpoints:(0,o.Z)((0,n.Z)({},e.checkpoints),{user:(0,r.Z)(e.checkpoints.user).concat([i.payload.checkpoint])})});case"UPDATE_USER_PLAYED_SECONDS":return(0,o.Z)((0,n.Z)({},e),{userPlayedSeconds:i.payload.userPlayedSeconds});case"UPDATE_START_TIME":return(0,o.Z)((0,n.Z)({},e),{startTime:i.payload.startTime});case"UPDATE_VIDEO_WATCHING_STATUS":return(0,o.Z)((0,n.Z)({},e),{videoWatchingStatus:i.payload.videoWatchingStatus,isVideoAccomplished:"Passed"===i.payload.videoWatchingStatus&&(0,x.lz)(e.checkpoints.user,e.checkpoints.video,e.checkpoints.config.minimumWatchPercent)});case"UPDATE_USER_GAMI_CHECKPOINTS":return(0,o.Z)((0,n.Z)({},e),{gamificationCheckpoints:(0,o.Z)((0,n.Z)({},e.gamificationCheckpoints),{user:(0,r.Z)(e.gamificationCheckpoints.user).concat([i.payload.checkpoint])})});case"TOGGLE_ADAPTOX":return(0,o.Z)((0,n.Z)({},e),{hasAdaptoX:i.payload.hasAdaptoX});case"TOGGLE_VIDEO_MOUNTED":return(0,o.Z)((0,n.Z)({},e),{videoHasMounted:i.payload.videoHasMounted});case"SUBMIT_GAMIFICATION":return(0,o.Z)((0,n.Z)({},e),{gamificationCheckpoints:(0,o.Z)((0,n.Z)({},e.gamificationCheckpoints),{isSubmitted:!0})})}}),{checkpoints:{video:[],user:[],config:null},userPlayedSeconds:0,startTime:0,trackerBaseParam:{user_watch_id:"".concat(null===N||void 0===N?void 0:N.userCode,"|").concat((0,P._7)(),"|").concat(Date.now().toString()),video_type:"ONLINE",playlist_serial:"",grade_serial:V,curriculum_serial:B,subject_serial:D,journey_serial:U,mission_serial:G},videoWatchingStatus:"BelowMinimum",isVideoAccomplished:!1,gamificationCheckpoints:{video:[],user:[],config:null,isSubmitted:!1},hasAdaptoX:!1,videoHasMounted:!1}),K=z[0],Q=z[1];(0,p.useEffect)((function(){if(te.isSuccess&&te.data){var e=te.data[0].content[0],i=K.userPlayedSeconds,t=(0,x.YQ)(e,i);Q({type:"UPDATE_VIDEO_WATCHING_STATUS",payload:{videoWatchingStatus:t}})}}),[K.checkpoints.user]);var J,Y,$=O.query.k,ee=Boolean($),ie=(0,x.xZ)().handleDeviceLimitError,te=(0,T.L6)({subtopicSerial:U,courseSerial:D,missionSerial:G,curriculumSerial:B,forceShowSensitiveContentEncryptKey:null!==$&&void 0!==$?$:""},{enabled:(A&&Object.keys(i)).length>0||ee,staleTime:3e3,onSuccess:function(e){var i,t,n=null!==(t=null===(i=j.find((function(i){return i.serial===e[0].serial})))||void 0===i?void 0:i.hasAdaptoX)&&void 0!==t&&t;Q({type:"TOGGLE_ADAPTOX",payload:{hasAdaptoX:n}})},onError:function(e){return ie({error:e,refetchMissionAfterForceRemove:te.refetch})}}),ne=(0,C.e)(U,{enabled:A&&""!==U}),oe=(0,d.default)().publicRuntimeConfig,re=(0,s.pm)(),ae=(0,y.nl)({onSuccess:function(e){re({title:Z.t("component:report.success"),description:Z.t("component:report.success_description"),status:"success"})},onError:function(e){re({title:ye.errorTryAgain,description:"".concat(e._tag,". Try Again."),status:"error"})}}),se=ae.isLoading,ce=ae.mutate,ue=(0,x.dd)(),de=ue.open,le=ue.close,pe=function(i){var t=i.videoSerial,n=i.videoVersion;de((0,a.jsx)(v.k,{radioOptionList:e.videoReportOptions,isLoading:!1,onCancel:function(){return le()},labels:ye.report,onSubmit:function(e){var i=e.radioValue,o=e.textareaValue;le(),ce({contentParentSerial:G,contentSerial:t,contentType:"video_mission_rubel",description:"".concat(i).concat(o?"|".concat(o):""),sourceVersion:n})}}))},me={videoStartResume:function(e){return(0,P.L9)({eventType:"rubelVideoStart",context:(0,o.Z)((0,n.Z)({},K.trackerBaseParam),{bander_serial:e})})},videoPause:function(e){return(0,P.L9)({eventType:"rubelVideoPause",context:(0,o.Z)((0,n.Z)({},K.trackerBaseParam),{pause_at:e})})},videoBufferingTime:function(e,i,t,r){return(0,P.L9)({eventType:"rubelVideoBufferingTime",context:(0,o.Z)((0,n.Z)({},K.trackerBaseParam),{latency:e,video_url:i,resolution:t,bitrate:r})})},videoHeartBeat:function(i,t){var r,a;return(0,P.L9)({eventType:"rubelVideoHeartBeat",context:(0,o.Z)((0,n.Z)({},K.trackerBaseParam),{video_serial:null!==(a=null===(r=e.mission[0].content[0])||void 0===r?void 0:r.serial)&&void 0!==a?a:"",currently_at:t||K.userPlayedSeconds,video_play_speed:i})})},videoScrub:function(e,i){return(0,P.L9)({eventType:"rubelVideoScrub",context:(0,o.Z)((0,n.Z)({},K.trackerBaseParam),{scrub_from:e,scrub_to:i})})},videoNextHitLastCheckpoint:function(e){return(0,P.L9)({eventType:"rubelVideoNextHitLastCheckpoint",context:(0,o.Z)((0,n.Z)({},K.trackerBaseParam),{closed_at:e})})},videoNextNotAccomplish:function(e){return(0,P.L9)({eventType:"rubelVideoNextNotAccomplish",context:(0,o.Z)((0,n.Z)({},K.trackerBaseParam),{closed_at:e})})},videoFinished:function(e){return(0,P.L9)({eventType:"rubelVideoFinished",context:(0,o.Z)((0,n.Z)({},K.trackerBaseParam),{isPreviewMode:e})})},videoIvqShowQuestion:function(i,t,r,a,s,c,u){var d,l;return(0,P.L9)({eventType:"rubelVideoIvqShowQuestion",context:(0,o.Z)((0,n.Z)({},K.trackerBaseParam),{video_version:null!==(l=null===(d=e.mission[0].content[0])||void 0===d?void 0:d.version)&&void 0!==l?l:-1,video_version_serial:null!==i&&void 0!==i?i:"",question_serial:t,previous_question_serial:r,number_of_choices:a,question_video_time:s,is_asking_explanation:c,quiz_type:u})})},answerInVideoQuiz:function(i,t,r,a,s,c,u,d){var l,p;return(0,P.L9)({eventType:"answerInVideoQuiz",context:(0,o.Z)((0,n.Z)({},K.trackerBaseParam),{video_version:null!==(p=null===(l=e.mission[0].content[0])||void 0===l?void 0:l.version)&&void 0!==p?p:-1,video_version_serial:null!==i&&void 0!==i?i:"",question_serial:t,number_of_choices:r,question_video_time:a,is_asking_explanation:s,quiz_type:c,answer:u,gameUrl:d})})},interactivityClickCloseButton:function(i,t,r){var a;return(0,P.L9)({eventType:"rubelInteractivityClickCloseButton",context:(0,o.Z)((0,n.Z)({},K.trackerBaseParam),{video_version:null!==(J=null===(a=e.mission[0].content[0])||void 0===a?void 0:a.version)&&void 0!==J?J:-1,video_version_serial:i,question_serial:t,game_url:r})})},interactivityEnded:function(i,t,r,a){var s;return(0,P.L9)({eventType:"rubelInteractivityEnded",context:(0,o.Z)((0,n.Z)({},K.trackerBaseParam),{video_version:null!==(Y=null===(s=e.mission[0].content[0])||void 0===s?void 0:s.version)&&void 0!==Y?Y:-1,video_version_serial:null!==i&&void 0!==i?i:"",question_serial:t,game_url:r,play_period:a})})}},ve=(0,T.bJ)({courseSerial:e.meta.courseSerial,curriculumSerial:e.meta.curriculumSerial,subtopicSerial:e.meta.subtopicSerial}).refetch,ge=(0,T.fw)({onSuccess:function(){Ce({activityType:"VIDEO_CONTENT"})}}).mutate,fe=function(e,i){var t="".concat(U,"-").concat(G),n=K.checkpoints.user,o=n.sort((function(e,i){return e-i})),r=K.isVideoAccomplished;ge({gamification:{type:"STATIC",activityDynamicValue:0,activitySerial:t,activityType:"VIDEO_CONTENT"},journeySerial:U,missionSerial:G,courseSerial:D,topicSerial:M,missionType:"VIDEO_CONTENT",videoCheckpoint:{checkpoints:o,isAccomplished:r,lastSeen:null!==e&&void 0!==e?e:o[n.length-1],version:i}})},he=function(e){(A||te.isSuccess&&te.data&&te.data[0].isUserCanSee)&&fe(),O&&O.isReady&&(O.push(e),le())},be=function(e){Q({type:"UPDATE_START_TIME",payload:{startTime:e}})},_e=function(e,i,t){!i&&A&&te.isSuccess&&te.data&&te.data[0].isUserCanSee?"Passed"===K.videoWatchingStatus?de("comphrendingConfirmationModal",{onClickPrimaryButton:function(){t&&me.videoNextHitLastCheckpoint(K.userPlayedSeconds),he(e)},onClickSecondaryButton:function(){be(1),le()}}):de("videoNotFinishedConfirmationModal",{onClickPrimaryButton:function(){t&&me.videoNextNotAccomplish(K.userPlayedSeconds),he(e)}}):he(e)};(0,p.useEffect)((function(){if(O&&O.query&&O.query.t){var e=O.query.t;be(parseInt(e))}return O.beforePopState((function(e){return e.as!==O.asPath&&A&&fe(),!0})),function(){Q({type:"TOGGLE_VIDEO_MOUNTED",payload:{videoHasMounted:!1}}),O.beforePopState((function(){return!0}))}}),[O]);var xe,ye={videoPremiumInfo:Z.t("component:video.video_premium_info"),videoPremiumInfoGuest:Z.t("component:video.video_premium_info_guest"),adaptiveVideo:Z.t("component:video.adaptive_video"),timelineVideo:Z.t("component:journey.video.timeline"),nextMissionCard:{subtitle:Z.t("global:next"),in:Z.t("global:in"),seconds:Z.t("global:seconds"),nextMission:Z.t("component:next_mission_card.next_mission"),stopAutoplay:Z.t("component:next_mission_card.stop_autoplay"),getCountdownSubtitle:function(e){return Z.t("component:next_mission_card.countdown_subtitle",{subtitle:Z.t("global:next"),seconds:e})}},video:{speed:Z.t("component:journey.video.speed"),speedTitle:Z.t("component:journey.video.speed_title"),cancel:Z.t("component:journey.video.cancel"),resolutionTitle:Z.t("component:journey.video.resolution_title"),share:Z.t("component:journey.video.share")},videoError:{title:Z.t("component:video.player_error_title"),accessDeniedTitle:Z.t("component:video.player_error_access_denied_title"),accessDeniedDescription:Z.t("component:video.player_error_access_denied_description"),browserNotSupported:Z.t("component:video.player_error_browser_not_supported_description")},videoGame:{exitTitle:Z.t("component:video.exit_game_title"),exitDescription:Z.t("component:video.exit_game_description"),exitCancel:Z.t("component:video.exit_game_cancel"),exitSubmit:Z.t("component:video.exit_game_submit")},report:{buttonText:Z.t("component:report.buttonText"),cancel:Z.t("component:report.cancel"),submit:Z.t("component:report.submit"),otherLabel:Z.t("component:report.otherLabel"),otherPlaceholder:Z.t("component:report.otherPlaceholder",{mission:Z.t("component:journey.video_mission")}),otherSidenote:Z.t("component:report.otherSidenote"),title:Z.t("component:report.title",{mission:Z.t("component:journey.video_mission")}),subtitle:Z.t("component:report.subtitle",{mission:Z.t("component:journey.video_mission")})},meta:{title:Z.t("component:journey.video.meta",{videoTitle:e.mission[0].content[0].title,subject:q,grade:L}),ogTitle:Z.t("component:journey.video.ogTitle",{videoTitle:e.mission[0].content[0].title,subject:q,grade:L}),description:Z.t("component:journey.video.description",{videoTitle:e.mission[0].content[0].title,subject:q,grade:L})},errorTryAgain:Z.t("global:error_try_again"),gamification:{gold:Z.t("global:gamification.gold"),xp:Z.t("global:gamification.xp")},videoPreview:{loginRegisterText:Z.t("component:video.video_preview_loginRegisterText"),loginRegisterButtonText:Z.t("component:video.video_preview_loginRegisterButtonText"),loginRegisterSubscribeText:Z.t("component:video.video_preview_loginRegisterSubscribeText"),subscribeText:Z.t("component:video.video_preview_subscribeText"),subscribeButtonText:Z.t("component:video.video_preview_subscribeButtonText")}},Se=function(){if(window&&navigator){var e=window.location.href;navigator.clipboard.writeText(e).then((function(){re({title:Z.t("global:successfully_copied"),status:"success"})})).catch((function(){return re({title:Z.t("global:unsuccessfully_copied"),status:"error"})}))}else re({title:Z.t("global:unsupported_browser_to_copy"),status:"warning"})},Ce=(0,k.M)({onSuccess:function(){ve()}}).mutate,Te=(0,S.bQ)({activityType:"VIDEO_CONTENT_CHECKPOINT",activitySerial:G},{enabled:A,staleTime:3e3}),ke=(0,S.Ms)({onSuccess:function(e){je(e.value)}}).mutate,Pe=(0,S.x7)({onSuccess:function(e){var i,t,n=100-(null===(i=K.gamificationCheckpoints.config)||void 0===i?void 0:i.checkpointSubmissionValue),o=1e3*Math.floor(n*(null===(t=K.trackerBaseParam)||void 0===t?void 0:t.video_duration)/100);setTimeout((function(){return Re(e)}),Math.max(1e3,o-6e3)),Q({type:"SUBMIT_GAMIFICATION"})}}),Ee=Pe.mutate,je=function(e){var i,t;Q({type:"UPDATE_USER_GAMI_CHECKPOINTS",payload:{checkpoint:e}});var n=null===(t=null===(i=K.gamificationCheckpoints.config)||void 0===i?void 0:i.gamificationRewardCheckpoints.find((function(i){return i.checkpoint===e})))||void 0===t?void 0:t.rewards,o=n.find((function(e){return"XP"===e.type})).value,r=n.find((function(e){return"GOLD"===e.type})).value;Ae.current&&Ae.current.animate({variant:"rewardValue",data:{xp:o,gold:r}}),we.current&&we.current.animateCheckpoint(r,o),Ne.current&&Ne.current.animate({variant:"rewardValue",data:{gold:r,xp:o}})},Re=function(e){we.current&&we.current.animate(),Ne.current&&Ne.current.animate({variant:"progress",data:{reward:{gold:e.goldValue,xp:e.xpValue},gamification:{xp:e.totalXp,gold:e.totalGold,requiredXp:e.nextLevelProgress.xpRequired,level:e.levelNumber}}})},we=(0,p.useRef)(null),Ae=(0,p.useRef)(null),Ne=(0,p.useRef)(null),Oe=(0,E.P)({enabled:A,staleTime:0}),Ie="".concat(oe.siteOrigin).concat(oe.basePath).concat(O.asPath),Ze={"@context":"https://schema.org","@type":"Article",datePublished:e.mission[0].content[0].updatedAt,description:ye.meta.description,headline:e.mission[0].title,image:[e.mission[0].content[0].thumbnailUrl],dateModified:e.mission[0].content[0].updatedAt,author:{"@type":"Organization",name:"PT Ruang Raya Indonesia"},isAccessibleForFree:"False",hasPart:{"@type":"WebPageElement",isAccessibleForFree:"False",cssSelector:".paywall"}};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(u.PB,{title:ye.meta.title,description:ye.meta.description,openGraph:{title:ye.meta.ogTitle,description:ye.meta.description,url:Ie,type:"video.movie",images:[{url:null!==(xe=e.mission[0].content[0].thumbnailUrl)&&void 0!==xe?xe:"https://imgix3.ruangguru.com/assets/user_uploads/pp/pp_n5yovk_967.jpg"}],video:{duration:e.mission[0].content[0].duration}}}),(0,a.jsx)(u.gx,{name:e.mission[0].title,description:ye.meta.description,thumbnailUrls:[e.mission[0].content[0].thumbnailUrl],uploadDate:e.mission[0].content[0].updatedAt,hasPart:(0,x.Ld)("VIDEO_CONTENT"===e.mission[0].missionType?e.mission[0].content[0].timeline:e.mission[0].content[0].banderguru.nodes[0].video.timeline,Ie,e.mission[0].content[0].duration),duration:(0,x._k)(e.mission[0].content[0].duration),contentUrl:Ie,embedUrl:Ie}),e.transcriptAvailable&&(0,a.jsx)("script",{id:"paywalled-content",type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify(Ze)}}),(0,a.jsxs)(c.xu,{bg:{base:"white",md:"bg.container"},minH:"calc(100vh - 210px)",scrollBehavior:"smooth",children:[(0,a.jsx)(g.f,{bgColor:i.courseColor,subtitle:F,title:e.subtopic.name,icon:e.subtopic.imageURL,progress:ne.isSuccess&&ne.data?ne.data.userProgress:0,renderBreadcrumb:function(){return(0,a.jsx)(_.J,{breadCrumbs:t,boxSize:"narrow",onPreventRedirection:function(e){_e(e,te.isSuccess&&te.data&&te.data[0].isMissionDone)}})},onClickBack:function(){return _e((0,x.gM)(e.breadcrumbs,"SUBTOPIC"))},onReport:function(){te.isSuccess&&te.data.length>0&&pe({videoSerial:"".concat(te.data[0].content[0].serial),videoVersion:te.data[0].content[0].version})},onShare:function(){return Se()},isAbleToSeeShareAndReport:A&&te.isSuccess&&te.data&&te.data[0].isUserCanSee}),se&&(0,a.jsx)(f.G,{}),(0,a.jsxs)(c.Ug,{as:"section",alignItems:{base:"center",xl:"stretch"},justifyContent:{base:"center",xl:"flex-start"},children:[I&&(0,a.jsx)(b.XZ,{gradeSerial:V,curriculumSerial:B,courseSerial:D,subtopicSerial:U,topicSerial:M,activeMissionSerial:G,subtopic:{name:e.subtopic.name,icon:e.subtopic.imageURL,topicName:F,userProgress:ne.isSuccess&&ne.data?ne.data.userProgress:0},missions:j,labels:{endQuiz:Z.t("component:journey.end_quiz"),endSummary:Z.t("component:journey.end_summary"),worksheet:Z.t("component:journey.worksheet")},variant:"in-mission-page",onPreventRedirection:function(e){_e(e)}}),(0,a.jsx)(c.Ug,{paddingX:{base:0,xl:"54px"},w:"100%",as:"article",alignItems:"center",justifyContent:"center",children:(0,a.jsxs)(c.gC,{w:"100%",h:"100%",bg:"white",alignItems:"center",justifyContent:"flexStart",minH:{base:"100vh",xl:"100%"},maxW:{base:"auto",lg:"60vw"},children:[te.isLoading&&(0,a.jsx)(h.TG,{labels:{timelineVideo:ye.timelineVideo}}),(Te.isSuccess||!A)&&(te.isSuccess||!A)&&e.mission.length>0&&(0,a.jsx)(b.KS,{labels:{nextMissionCard:ye.nextMissionCard,timelineVideo:ye.timelineVideo,report:ye.report,video:ye.video,videoError:ye.videoError,errorTryAgain:ye.errorTryAgain,gamification:ye.gamification,videoGame:ye.videoGame,videoPremiumInfo:ye.videoPremiumInfo,videoPremiumInfoGuest:ye.videoPremiumInfoGuest,adaptiveVideo:ye.adaptiveVideo,videoPreview:ye.videoPreview},videoHasMounted:K.videoHasMounted,onToggleVideoMounted:function(e){return Q({type:"TOGGLE_VIDEO_MOUNTED",payload:{videoHasMounted:e}})},mission:A?null===te||void 0===te?void 0:te.data[0]:R[0],meta:i,journeySerial:U,userCheckpoints:K.checkpoints.user,onPreventGuestAction:function(e){A?e():de("notLoggedInModal",{onClickPrimaryButton:function(){window&&(window.location.href="".concat(window.location.origin,"/login"))},onClickSecondaryButton:function(){le()}})},onReportClick:pe,onScreenshotClick:function(){de("featureNotAvailableModal")},handleShare:Se,handleInitVideo:function(e){var i=e.videoCheckpoints,t=e.userCheckpoints,n=e.startTime,o=e.videoCheckpointConfig,r=e.videoDuration,a=e.videoSerial,s=e.gamificationCheckpoints,c=e.userGamificationCheckpoints,u=e.gamificationConfig;Q({type:"INIT",payload:{videoCheckpoints:i,userCheckpoints:t,startTime:n,videoCheckpointConfig:o,videoDuration:r,videoSerial:a,gamificationCheckpoints:s,userGamificationCheckpoints:c,gamificationConfig:u}})},onTimeUpdateVideo:function(e,i){if(e!==K.userPlayedSeconds){var t;Q({type:"UPDATE_USER_PLAYED_SECONDS",payload:{userPlayedSeconds:e}});var n=K.checkpoints.config.currentCheckpointInterval;if(e%n!==0||K.checkpoints.user.includes(e)||(Q({type:"UPDATE_USER_CHECKPOINTS",payload:{checkpoint:e}}),me.videoHeartBeat(i,e)),null===(t=K.gamificationCheckpoints.config)||void 0===t?void 0:t.hasGamification){var o,r,a=null===(o=K.trackerBaseParam)||void 0===o?void 0:o.video_duration,s=K.gamificationCheckpoints.video.find((function(i){return e===Math.floor(i*a/100)}));s&&!K.gamificationCheckpoints.user.includes(s)&&ke({activityType:"VIDEO_CONTENT_CHECKPOINT",activitySerial:G,value:s}),!K.gamificationCheckpoints.isSubmitted&&K.gamificationCheckpoints.user.length>0&&e>=(null===(r=K.gamificationCheckpoints.config)||void 0===r?void 0:r.checkpointSubmissionValue)*a/100&&Ee({activityType:"VIDEO_CONTENT_CHECKPOINT",activitySerial:G})}}},handleAccomplishment:fe,handleRouteChange:_e,startTime:K.startTime,onChangeStartTime:be,sendTracker:me,onNextMissionRedirect:function(){K.isVideoAccomplished||me.videoNextNotAccomplish(K.userPlayedSeconds)},gamificationCheckpoints:Te.data,userInfo:Oe.isSuccess&&Oe.data,gamificationSectionRef:te.isSuccess&&Array.isArray(te.data)&&!(null===te||void 0===te?void 0:te.data[0].isMissionDone)&&we,gamificationBottomControlRef:te.isSuccess&&Array.isArray(te.data)&&!te.data[0].isMissionDone&&Ae,gamificationOnVideoRef:te.isSuccess&&Array.isArray(te.data)&&!te.data[0].isMissionDone&&Ne,hasAdaptoX:K.hasAdaptoX,transcriptAvailable:e.transcriptAvailable,videoSubtitles:e.videoSubtitles})]})})]})]})]})}},86875:function(e,i,t){"use strict";t.d(i,{a:function(){return o}});var n=t(52322),o=(0,t(62381).IU)({displayName:"ShareIcon",viewBox:"0 0 24 24",path:(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14 7C14 5.3455 15.3455 4 17 4C18.6545 4 20 5.3455 20 7C20 8.6545 18.6545 10 17 10C16.1826 10 15.4406 9.67159 14.8991 9.13975L9.94284 11.4153C9.98034 11.6045 10 11.8 10 12C10 12.2574 9.96744 12.5073 9.90623 12.7458L12.9716 14.7914C13.5059 14.3002 14.2185 14 15 14C16.6545 14 18 15.3455 18 17C18 18.6545 16.6545 20 15 20C13.3455 20 12 18.6545 12 17C12 16.7426 12.0326 16.4927 12.0938 16.2542L9.02845 14.2086C8.49406 14.6998 7.7815 15 7 15C5.3455 15 4 13.6545 4 12C4 10.3455 5.3455 9 7 9C7.85473 9 8.627 9.3591 9.17388 9.93438L14.0782 7.68206C14.027 7.46289 14 7.23455 14 7ZM18.5 7C18.5 6.172 17.828 5.5 17 5.5C16.172 5.5 15.5 6.172 15.5 7C15.5 7.828 16.172 8.5 17 8.5C17.828 8.5 18.5 7.828 18.5 7ZM7 10.5C7.828 10.5 8.5 11.172 8.5 12C8.5 12.828 7.828 13.5 7 13.5C6.172 13.5 5.5 12.828 5.5 12C5.5 11.172 6.172 10.5 7 10.5ZM15 15.5C15.828 15.5 16.5 16.172 16.5 17C16.5 17.828 15.828 18.5 15 18.5C14.172 18.5 13.5 17.828 13.5 17C13.5 16.172 14.172 15.5 15 15.5Z",fill:"#434856"})})},74325:function(e,i,t){"use strict";t.d(i,{f:function(){return v}});var n=t(26297),o=t(52322),r=t(64033),a=t(91506),s=t(33078),c=t(86875),u=t(22250),d=t(67132),l=t(36338),p=t(39346),m=t(86769);function v(e){var i=e.bgColor,t=e.icon,v=e.title,g=e.subtitle,f=e.progress,h=e.renderBreadcrumb,b=e.backHref,_=e.onClickBack,x=e.isAbleToSeeShareAndReport,y=(0,n.Z)(e,["bgColor","icon","title","subtitle","progress","renderBreadcrumb","backHref","onClickBack","isAbleToSeeShareAndReport"]),S=(0,l.e)().isMobile,C=function(){return(0,o.jsx)(r.xu,{as:"a",bg:"white",w:"32px",h:"32px",borderRadius:"50%",display:{base:"flex",md:"none"},alignSelf:"center",justifyContent:"center",alignItems:"center",children:(0,o.jsx)(s.x,{fontSize:"16px"})})};return(0,o.jsx)(p.U,{bgColor:i,variant:"mobile-fill",renderBreadcrumbs:h,hasBgIcon:!S,children:(0,o.jsx)(r.xu,{bg:"transparent",w:"100%",px:"0",borderRadius:"8px",my:"12px",children:(0,o.jsxs)(r.Kq,{align:"flex-start",justify:"left",direction:"row",spacing:"0",children:[(0,o.jsx)(r.M5,{py:"2px",px:"2px",borderRadius:"12px",bg:"#FFFFFF",alignSelf:{base:"center",md:"initial"},display:{base:"none",md:"flex"},children:(0,o.jsx)(a.Ee,{alt:v,boxSize:"48px",src:t})}),(0,o.jsx)(r.M5,{display:{base:"flex",md:"none"},alignSelf:"center",children:b?(0,o.jsx)(d.g,{href:b,passHref:!0,children:C()}):_&&(0,o.jsx)(r.xu,{onClick:_,children:C()})}),(0,o.jsxs)(r.gC,{spacing:"8px",align:"flex-start",w:{base:"100%",md:"initial"},pl:"12px",children:[(0,o.jsxs)(r.xu,{children:[(0,o.jsx)(r.xv,{textStyle:{base:"subtitle",md:"title-l"},lineHeight:{base:"24px",md:"30px"},color:"#fff",mb:"4px",noOfLines:1,children:v}),(0,o.jsx)(r.xv,{textStyle:{base:"body-s",md:"body-m"},lineHeight:{base:"16px",md:"20px"},color:"#fff",noOfLines:1,children:g})]}),(0,o.jsx)(r.xu,{minW:"12rem",display:{base:"none",lg:"block"},children:(0,o.jsx)(m.G,{variant:S?"textGray":"textWhite",percentageValue:f})})]}),(0,o.jsxs)(r.Ug,{alignSelf:"center",pl:y.onShare||y.onReport?"12px":0,children:[x&&y.onShare&&(0,o.jsx)(r.xu,{as:"button",bg:"white",w:"8",h:"8",borderRadius:"50%",display:{base:"flex",md:"none"},alignSelf:"center",justifyContent:"center",alignItems:"center",onClick:y.onShare,children:(0,o.jsx)(c.a,{fontSize:"16px"})}),x&&y.onReport&&(0,o.jsx)(r.xu,{as:"button",bg:"white",w:"8",h:"8",borderRadius:"50%",display:{base:"flex",md:"none"},alignSelf:"center",justifyContent:"center",alignItems:"center",onClick:y.onReport,children:(0,o.jsx)(u.U,{fontSize:"16px"})})]})]})})})}},89165:function(e,i,t){"use strict";t.d(i,{Pr:function(){return s},TG:function(){return c},Yj:function(){return a}});var n=t(52322),o=t(65818),r=t(64033),a=(0,n.jsx)(o.Od,{height:{base:"200px",md:"420px"},width:"100%",bgColor:"black"}),s=(0,n.jsx)(o.Od,{height:"36px",width:"100%"});function c(e){return(0,n.jsxs)(r.xu,{id:"skeleton-video-content",width:"100%",children:[a,(0,n.jsx)(r.gC,{p:"8px 12px",children:s}),(0,n.jsxs)(r.gC,{width:"100%",padding:"20px",borderTopColor:"gray.40",borderTopWidth:"1px",p:{base:3,md:5},children:[(0,n.jsx)(o.N2,{noOfLines:1,height:"24px",width:"100%"}),(0,n.jsx)(o.N2,{mt:"2",noOfLines:3,spacing:"1",width:"100%"}),(0,n.jsx)(r.xv,{textStyle:"subtitle",mb:3,alignSelf:"flex-start",textAlign:"left",children:e.labels.timelineVideo}),(0,n.jsx)(o.Od,{height:{base:"36px",md:"46px"},width:"100%",mb:{base:2,md:3},borderRadius:"lg"}),(0,n.jsx)(o.Od,{height:{base:"36px",md:"46px"},width:"100%",mb:{base:2,md:3},borderRadius:"lg"}),(0,n.jsx)(o.Od,{height:{base:"36px",md:"46px"},width:"100%",mb:{base:2,md:3},borderRadius:"lg"}),(0,n.jsx)(o.Od,{height:{base:"36px",md:"46px"},width:"100%",mb:{base:2,md:3},borderRadius:"lg"}),(0,n.jsx)(o.Od,{height:{base:"36px",md:"46px"},width:"100%",mb:{base:2,md:3},borderRadius:"lg"}),(0,n.jsx)(o.Od,{height:{base:"36px",md:"46px"},width:"100%",mb:{base:2,md:3},borderRadius:"lg"})]})]})}}},function(e){e.O(0,[7642,8946,223,1146,300,8941,3736,3913,9447,6975,6208,700,7602,3700,9774,2888,179],(function(){return i=50784,e(e.s=i);var i}));var i=e.O();_N_E=i}]);